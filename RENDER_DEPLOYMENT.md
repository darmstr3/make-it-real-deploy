# Render Deployment Guide for PositionKit

This updated guide will help you successfully deploy your PositionKit application to Render.

## Prerequisites

Before starting the deployment process, make sure you have:

1. A GitHub account with your project repository
2. A [Render account](https://render.com)
3. Your [OpenAI API key](https://platform.openai.com/account/api-keys)
4. Your [SendGrid API key](https://app.sendgrid.com/settings/api_keys) (for email functionality)

## Step-by-Step Deployment Instructions

### 1. Prepare Your Repository

First, make sure all your changes are pushed to GitHub:

```bash
git add .
git commit -m "Prepare for Render deployment"
git push
```

### 2. Create a New Web Service in Render

1. Log in to your [Render Dashboard](https://dashboard.render.com)
2. Click the "New +" button and select "Web Service"
3. Connect your GitHub repository or click "Create a new web service" if you've already connected it
4. Find and select your PositionKit repository

### 3. Configure Your Web Service

Use these exact settings for your web service:

- **Name**: positionkit (or any name you prefer)
- **Region**: Choose the region closest to your users
- **Branch**: main (or your default branch)
- **Runtime**: Node
- **Build Command**: `./render-build.sh`
- **Start Command**: `npm start`
- **Instance Type**: Free (for testing) or Basic (for production)

### 4. Set Environment Variables

In the "Environment" section, add the following key-value pairs:

```
NODE_ENV=production
OPENAI_API_KEY=your_openai_api_key
SENDGRID_API_KEY=your_sendgrid_api_key
```

The SESSION_SECRET will be automatically generated by Render.

### 5. Deploy Your Application

1. Click "Create Web Service"
2. Wait for the initial deployment to complete (this might take a few minutes)
3. Once deployed, you can access your application at the URL provided by Render

## Troubleshooting Deployment Issues

If you encounter the "Could not resolve entry module 'client/index.html'" error or any other build errors:

1. **Check your recent commits** - Make sure all the files (`render.yaml`, `render-build.sh`) are committed and pushed to GitHub
2. **Review build logs** - In the Render dashboard, click on your web service and select the "Logs" tab to see detailed build and runtime logs
3. **Manual deploy** - Try manually triggering a new deployment by clicking the "Manual Deploy" button and selecting "Clear build cache & deploy"

## Important Security Notes

1. **Never commit API keys or secrets** - Always use environment variables in Render for sensitive information
2. **Backend security** - All API keys are only used server-side and are never exposed to the frontend
3. **Environment variables** - Only variables prefixed with `VITE_` are accessible to the frontend, so don't prefix sensitive variables with `VITE_`

## Monitoring and Scaling

- **Application logs**: Access real-time logs from the Render dashboard
- **Scaling**: If needed, you can upgrade your instance type for more resources
- **Custom domains**: You can add a custom domain in the Render dashboard settings

For more information about deploying and scaling on Render, refer to the [Render documentation](https://render.com/docs).